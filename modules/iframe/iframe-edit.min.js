$(document).ready(function(){var e=$('<img src="'+$.glue.base_url+'modules/iframe/iframe.png" alt="btn" title="embed another webpage" width="32" height="32">');$(e).bind("click",function(r){var s=prompt("Enter the URL to show");s&&(s="//"+s.split("//")[1],$.glue.backend({method:"glue.create_object",page:$.glue.page},function(e){var t=$('<div class="iframe resizable object" style="position: absolute;"></div>'),i=($(t).attr("id",e.name),$('<iframe style="background-color: transparent; border-width: 0px; height: 100%; position: absolute; width: 100%;"></iframe>'));$(i).attr("name",e.name),$(i).attr("src",s),$(t).append(i),i=$('<div class="glue-iframe-shield glue-ui" style="height: 100%; position: absolute; width: 100%;" title="visitors will be able to interact with the webpage below"></div>'),$(t).append(i),$("body").append(t),$(t).css("width",$(t).width()+"px"),$(t).css("height",$(t).height()+"px"),$(t).css("left",r.pageX-$(t).outerWidth()/2+"px"),$(t).css("top",r.pageY-$(t).outerHeight()/2+"px"),$.glue.object.register(t),$.glue.object.save(t)}),$.glue.menu.hide())}),$.glue.menu.register("new",e,12),e=$('<img src="'+$.glue.base_url+'modules/iframe/iframe-url.png" alt="btn" title="change webpage url" width="32" height="32">'),$(e).bind("click",function(e){var t=$(this).data("owner"),i=$(t).children("iframe").first(),r=prompt("Enter the URL to show",window.location.protocol+$(i).attr("src"));r&&(r="//"+r.split("//")[1],$(i).attr("src",r),$.glue.object.save(t))}),$.glue.contextmenu.register("iframe","iframe-url",e),e=$('<div style="height: 32px; width: 32px;" title="toggle scrollbars on and off">'),$(e).bind("click",function(e){var t=$(this).data("owner"),i=$(t).children("iframe").first();"hidden"==$(i).css("overflow")?($(i).css("overflow","auto"),$(i).attr("scrolling","auto"),$(i).removeAttr("seamless"),$.browser.webkit&&$(i).attr("src",$(i).attr("src")),$(this).addClass("glue-menu-enabled"),$(this).removeClass("glue-menu-disabled")):($(i).css("overflow","hidden"),$(i).attr("scrolling","no"),$(i).attr("seamless","seamless"),$.browser.webkit&&$(i).attr("src",$(i).attr("src")),$(this).removeClass("glue-menu-enabled"),$(this).addClass("glue-menu-disabled")),$.glue.object.save(t)}),$(e).bind("glue-menu-activate",function(e){var t=$(this).data("owner"),t=$(t).children("iframe").first();"hidden"==$(t).css("overflow")?($(this).removeClass("glue-menu-enabled"),$(this).addClass("glue-menu-disabled")):($(this).addClass("glue-menu-enabled"),$(this).removeClass("glue-menu-disabled"))}),$.glue.contextmenu.register("iframe","iframe-scroll",e),$.glue.object.register_alter_pre_save("iframe",function(e,t){$(e).children("iframe").html(""),$(e).children(".glue-iframe-shield").remove()})});